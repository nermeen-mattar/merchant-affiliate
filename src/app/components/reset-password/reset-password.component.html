<div class="app-reset-password" *ngIf="!displayPageNotFound; else pageNotFound">
  <mat-card>
    <mat-card-title class="app-reset-password__title">
      {{'RESET_PASSWORD.RESET_PASSWORD' | translate}}
    </mat-card-title>
    <mat-card-content *ngIf="!displaySpinner; else spinner">
      <form novalidate #resetForm="ngForm" class="app-reset-password__content" (ngSubmit)="resetPassword(resetForm.value)" [ngClass]="{'app-reset-password__element-hide': displaySpinner}">
        <mat-form-field class="app-reset-password__content__form__field">
          <input matInput placeholder="{{ 'USER.NEW_PASSWORD' | translate }}" required ngModel #password="ngModel" name="password"
            [type]="displayPassword ? 'text' : 'password'">
          <mat-icon class="app-reset-password__content__form__field__icon" matPrefix>lock</mat-icon>
          <div matSuffix class="app-reset-password__content__form__field__icons-wrapper">
            <mat-icon *ngIf="password.dirty && password.invalid&&
              password.errors.validatePassword" class="app-reset-password__content__form__field__icon" matTooltip="{{'FORM.PASSWORD_MUST_INCLUDE' | translate}}"
              matTooltipPosition="below">
              info </mat-icon>
            <mat-icon (click)="displayPassword = !displayPassword" fontSet="fa" fontIcon="fa-{{displayPassword ? 'eye-slash' : 'eye'}}"
              class="app-reset-password__content__form__field__icon"></mat-icon>
          </div>
          <mat-error *ngIf="password.invalid">
            <span *ngIf="password.errors.required; else passwordInvalid">
              {{ 'USER.NEW_PASSWORD' | translate }} {{'FORM.IS_REQUIRED' | translate}}
            </span>
            <ng-template #passwordInvalid>
              <span *ngIf="password.errors.validatePassword">
                {{'FORM.ENTER_VALID_PASSWORD' | translate}}
              </span>
            </ng-template>
          </mat-error>
        </mat-form-field>
        <button mat-raised-button color="primary" class="app-reset-password__content__button" [disabled]="resetForm.invalid" type="submit">{{ 'RESET_PASSWORD.RESET_PASSWORD' | translate }}</button>

      </form>
      <!-- <div *ngIf="mailState !== mailActivationState.ACTIVATION_LINK_EXPIRED; else expiredLink">
        <img class="app-reset-password__wrapper__img" width="350" alt="dropped coffee" src="../../assets/img/mail-activated.png">
        <div *ngIf="mailState === mailActivationState.SUCCESS; else alreadyActivated" class="app-reset-password__message app-reset-password__success">
          {{'ACTIVATION.ACTIVATION_SUCCESS' | translate}}
        </div>
        <ng-template #alreadyActivated>
          <div *ngIf="mailState === mailActivationState.ALREADY_ACTIVATED;" class="app-reset-password__message app-reset-password__success">
            {{ 'ACTIVATION.ALREADY_ACTIVATED' | translate}}
          </div>
        </ng-template>
      </div>
      <ng-template #expiredLink>
        <img class="app-reset-password__wrapper__img" width="350" alt="dropped coffee" src="../../assets/img/link-expired.png">
        <div class="app-reset-password__message app-reset-password__fail">
          {{ 'ACTIVATION.EXPIRED_LINK' | translate}}
        </div>
      </ng-template>
      <button routerLink="/auth/login" mat-raised-button color="primary" class="app-reset-password__button">{{'LOGIN.GO_TO_LOGIN' | translate}}</button> -->

    </mat-card-content>
    <ng-template #spinner>
      <mat-spinner class="app-reset-password__spinner"></mat-spinner>
    </ng-template>
  </mat-card>
</div>
<ng-template #pageNotFound>
  <tc-page-not-found> </tc-page-not-found>
</ng-template>
